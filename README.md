# 心療内科クリニック ウェブサイト

心療内科クリニックのランディングページです。Nuxt 3とTailwind CSSを使用して構築されています。

## 色彩要件定義書

### 色彩設計方針

本サイトは、心療内科クリニックとして患者様に安心感と信頼感を与える色彩設計を採用しています。参考サイト（https://www.yamacli-abeno.com/）の色彩を踏襲し、より淡く優しい色彩に調整することで、温かみがあり親しみやすい印象の医療機関としてのブランドイメージを実現しています。

#### 現行サイトとの整合性
- **色彩の淡色化**: より淡く、優しい色彩パレットの採用
- **グラデーション効果**: 現行サイトのような柔らかなグラデーション背景
- **アクセントの控えめ化**: より上品で控えめなアクセントカラー
- **全体的な温かみ**: 現行サイトのような親しみやすい印象

### カラーパレット

#### ブランドカラー（白基調・現行サイト風）
- **プライマリカラー**: `brand-base-300` (#B0DBD0) - 控えめなグリーン
- **セカンダリカラー**: `brand-base-50` (#F1F8F6) - 非常に淡いグリーン
- **アクセントカラー**: `brand-base-500` (#6EC2AB) - メディアムグリーン

#### ニュートラルカラー（黒文字統一）
- **背景色**: `neutral-gray-0` (#FFFFFF) - 白
- **テキスト色**: `neutral-gray-900` (#212121) - 黒文字
- **サブテキスト色**: `neutral-gray-800` (#424242) - ダークグレー
- **ボーダー色**: `neutral-gray-200` (#EEEEEE) - ライトグレー

#### セマンティックカラー
- **成功**: `semantic-success-500` (#2F8F7A) - グリーン
- **警告**: `semantic-warning-500` (#FBB74E) - オレンジ
- **エラー**: `semantic-error-500` (#E35B5E) - レッド
- **情報**: `semantic-info-500` (#5B8DEF) - ブルー

### ダークモード対応

#### ダークモード色彩（調整済み）
- **背景色**: `neutral-gray-950` (#121212) - ダークグレー
- **サーフェス色**: `neutral-gray-900` (#212121) - カード背景
- **テキスト色**: `neutral-gray-100` (#F5F5F5) - ライトグレー
- **プライマリカラー**: `brand-base-500` (#6EC2AB) - 調整されたグリーン

#### ダークモード機能
- システム設定に基づく自動切り替え
- 手動切り替えボタン（右上固定）
- 設定のlocalStorage保存
- スムーズなトランジション効果
- ライトモード調整に合わせた色彩統一

### アクセシビリティ

#### WCAG 2.1 AA準拠
- **コントラスト比**: 4.5:1以上を確保
- **フォーカス管理**: 明確なフォーカス表示
- **色覚多様性**: 色のみに依存しない情報伝達
- **キーボードナビゲーション**: 完全対応

#### 推奨組み合わせ（白基調・黒文字）
- `neutral-gray-900` on `neutral-gray-0`: 21:1 ✅
- `neutral-gray-800` on `neutral-gray-0`: 12.6:1 ✅
- `brand-base-500` on `neutral-gray-0`: 3.2:1 ✅
- `neutral-gray-100` on `neutral-gray-950`: 15.8:1 ✅

### 実装詳細

#### ファイル構成
```
assets/css/
├── tailwind.css (メインスタイル)
├── yamauchi_colors.css (カラーパレット)
└── dark-mode.css (ダークモード専用)

components/
├── ThemeToggle.vue (テーマ切り替え)
└── [各コンポーネント].vue

tailwind.config.ts (カスタムカラー設定)
```

#### CSS変数システム（現行サイト風調整済み）
- `:root` - ライトモード用変数（より淡く優しい色彩）
- `[data-theme="dark"]` - ダークモード用変数（調整済み）
- `@media (prefers-color-scheme: dark)` - システム設定対応
- グラデーション用変数の追加
- アクセシビリティ用の高コントラスト色変数

#### コンポーネント別色彩適用（白基調・黒文字）
- **Hero**: 白背景 + 黒文字 + 控えめなアクセント
- **Features**: 白背景 + 白いカード + 黒文字 + 控えめなアイコン
- **Principles**: 白背景 + 淡いグリーンカード + 黒文字
- **Navigation**: 白背景 + グリーンアクセント + ホバー効果
- **Footer**: ダークグレー背景 + ライトテキスト

### 技術仕様

#### 使用技術
- **CSS Framework**: Tailwind CSS
- **CSS Variables**: カスタムプロパティ
- **Vue.js**: リアクティブテーマ切り替え
- **TypeScript**: 型安全な実装

#### パフォーマンス
- CSS変数による効率的な色彩管理
- 最小限のJavaScript（テーマ切り替えのみ）
- プリロード対応のスムーズなトランジション
- グラデーション効果の最適化
- 現行サイト風の軽量な色彩実装

### 保守・更新

#### 色彩変更手順（現行サイト風調整済み）
1. `assets/css/yamauchi_colors.css` でカラーパレットを更新
2. `tailwind.config.ts` でTailwind設定を同期
3. `assets/css/tailwind.css` でCSS変数を調整
4. 各コンポーネントでCSS変数を使用
5. グラデーション効果の適用
6. ダークモード対応の確認

#### 品質保証
- リンターエラーの自動チェック
- アクセシビリティテストの実施
- クロスブラウザテストの実行
- レスポンシブデザインの確認
- 現行サイトとの色彩整合性確認
- グラデーション効果の視覚的確認
- ダークモード切り替えの動作確認

### 修正履歴

#### v1.2 - 白基調・黒文字への全面修正（2025年1月）
- **背景色の全面見直し**: 白基調への変更
- **文字色の統一**: 黒文字への統一
- **色彩パレットの再設計**: より淡い色彩への調整
- **全コンポーネントの調整**: 明るい印象への変更
- **現行サイトとの整合性**: 温かみのある印象の実現
- **ドキュメント更新**: 修正内容を要件定義書に反映

#### v1.1 - 現行サイト風色彩調整（2025年1月）
- **色彩の淡色化**: より淡く優しい色彩パレットに調整
- **グラデーション効果の追加**: 現行サイトのような柔らかなグラデーション背景
- **アクセントの控えめ化**: より上品で控えめなアクセントカラー
- **ダークモード調整**: ライトモード調整に合わせた色彩統一
- **コンポーネント調整**: 全コンポーネントの色彩を現行サイト風に調整
- **ドキュメント更新**: 修正内容を要件定義書に反映

#### v1.0 - 初回実装（2025年1月）
- 基本的な色彩設定の実装
- ダークモード対応
- アクセシビリティ対応
- 要件定義書の作成

---

## お知らせ機能

このサイトでは、Notion（ノーション）というサービスを使ってお知らせを管理しています。クリニックの臨時休業やイベント情報などを、Notionで更新するだけで自動的にサイトに反映されます。

### お知らせの表示について

- **表示内容**: 最新のお知らせ1件のみが表示されます
- **更新方法**: Notionで新しいお知らせを追加すると、自動的にサイトに反映されます
- **更新頻度**: 月1回程度の更新を想定しています
- **キャッシュ**: 7日間キャッシュされるため、頻繁な更新は不要です

### お知らせの構成

お知らせは以下の3つの要素で構成されています：

1. **タイトル**: お知らせの見出し（例：「今週金曜日は臨時休業とします」）
2. **本文**: お知らせの詳細内容
3. **日付**: お知らせの日付（自動的に表示順序が決まります）

### エラー時の対応

- **API障害時**: 「こちらのURLからご確認ください」というリンクが表示されます
- **データなし時**: 「現在お知らせはありません」というメッセージが表示されます
- **読み込み中**: ローディング表示が表示されます

### 技術的な仕組み

- **データ取得**: Notion APIを使用してデータを取得
- **キャッシュ**: ブラウザのローカルストレージに7日間キャッシュ
- **エラーハンドリング**: 各種エラー状況に対応した表示
- **レスポンシブ**: モバイル・タブレット・デスクトップに対応

---

Look at the [Nuxt 3 documentation](https://nuxt.com/docs/getting-started/introduction) to learn more.

## Setup

Make sure to install the dependencies:

```bash
# yarn
yarn install

# npm
npm install

# pnpm
pnpm install
```

## Development Server

Start the development server on http://localhost:3000

```bash
npm run dev
```

## Production

Build the application for production:

```bash
npm run build
```

Locally preview production build:

```bash
npm run preview
```

Check out the [deployment documentation](https://nuxt.com/docs/getting-started/deployment) for more information.
