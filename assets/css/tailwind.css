@import './yamauchi_colors.css';

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* ライトモード用のセマンティックカラー変数（白基調・現行サイト風） */
    --color-primary: var(--yc-brand-base-300);
    --color-primary-hover: var(--yc-brand-base-400);
    --color-primary-focus: var(--yc-semantic-info-300);
    --color-background: var(--yc-neutral-gray-0);
    --color-surface: var(--yc-neutral-gray-0);
    --color-surface-secondary: var(--yc-brand-base-50);
    --color-text: var(--yc-neutral-gray-900);
    --color-text-secondary: var(--yc-neutral-gray-800);
    --color-text-muted: var(--yc-neutral-gray-700);
    --color-border: var(--yc-neutral-gray-200);
    --color-border-focus: var(--yc-semantic-info-300);
    
    /* アクセシビリティ用の高コントラスト色 */
    --color-text-high-contrast: var(--yc-neutral-gray-900);
    --color-primary-accessible: var(--yc-brand-base-400);
    
  /* グラデーション用の色彩（現行サイト風の淡い色彩） */
  --gradient-primary: linear-gradient(135deg, var(--yc-neutral-gray-0), var(--yc-brand-base-50));
  --gradient-secondary: linear-gradient(135deg, var(--yc-brand-base-50), var(--yc-neutral-gray-0));
  --gradient-hero: linear-gradient(135deg, var(--yc-neutral-gray-0), var(--yc-brand-base-100));
  --gradient-subtle: linear-gradient(135deg, var(--yc-brand-base-50), var(--yc-neutral-gray-0));
  
  /* アニメーション制御変数 */
  --animation-enabled: 1;
  }

  [data-theme="dark"] {
    /* ダークモード用のセマンティックカラー変数（調整済み） */
    --color-primary: var(--yc-brand-base-500);
    --color-primary-hover: var(--yc-brand-base-400);
    --color-primary-focus: var(--yc-semantic-info-300);
    --color-background: var(--yc-neutral-gray-950);
    --color-surface: var(--yc-neutral-gray-900);
    --color-surface-secondary: var(--yc-neutral-gray-800);
    --color-text: var(--yc-neutral-gray-100);
    --color-text-secondary: var(--yc-neutral-gray-200);
    --color-text-muted: var(--yc-neutral-gray-300);
    --color-border: var(--yc-neutral-gray-700);
    --color-border-focus: var(--yc-semantic-info-300);
    
    /* アクセシビリティ用の高コントラスト色 */
    --color-text-high-contrast: var(--yc-neutral-gray-50);
    --color-primary-accessible: var(--yc-brand-base-400);
    
    /* ダークモード用のグラデーション */
    --gradient-primary: linear-gradient(135deg, var(--yc-neutral-gray-800), var(--yc-neutral-gray-900));
    --gradient-secondary: linear-gradient(135deg, var(--yc-neutral-gray-700), var(--yc-neutral-gray-800));
    --gradient-hero: linear-gradient(135deg, var(--yc-neutral-gray-900), var(--yc-neutral-gray-950));
    --gradient-subtle: linear-gradient(135deg, var(--yc-neutral-gray-800), var(--yc-neutral-gray-900));
  }

  /* ダークモード用のメディアクエリ */
  @media (prefers-color-scheme: dark) {
    :root:not([data-theme="light"]) {
      --color-primary: var(--yc-brand-base-500);
      --color-primary-hover: var(--yc-brand-base-400);
      --color-primary-focus: var(--yc-semantic-info-300);
      --color-background: var(--yc-neutral-gray-950);
      --color-surface: var(--yc-neutral-gray-900);
      --color-surface-secondary: var(--yc-neutral-gray-800);
      --color-text: var(--yc-neutral-gray-100);
      --color-text-secondary: var(--yc-neutral-gray-200);
      --color-text-muted: var(--yc-neutral-gray-300);
      --color-border: var(--yc-neutral-gray-700);
      --color-border-focus: var(--yc-semantic-info-300);
      
      /* アクセシビリティ用の高コントラスト色 */
      --color-text-high-contrast: var(--yc-neutral-gray-50);
      --color-primary-accessible: var(--yc-brand-base-400);
      
      /* ダークモード用のグラデーション */
      --gradient-primary: linear-gradient(135deg, var(--yc-neutral-gray-800), var(--yc-neutral-gray-900));
      --gradient-secondary: linear-gradient(135deg, var(--yc-neutral-gray-700), var(--yc-neutral-gray-800));
      --gradient-hero: linear-gradient(135deg, var(--yc-neutral-gray-900), var(--yc-neutral-gray-950));
      --gradient-subtle: linear-gradient(135deg, var(--yc-neutral-gray-800), var(--yc-neutral-gray-900));
    }
  }

  html {
    font-family: 'Hiragino Kaku Gothic ProN', 'Hiragino Sans', Meiryo, sans-serif;
    line-height: 1.7;
  }
  
  body {
    background-color: var(--color-background);
    color: var(--color-text);
    font-size: 16px;
    transition: background-color 0.3s ease, color 0.3s ease;
  }
  
  h1 {
    @apply text-3xl md:text-4xl font-bold leading-tight;
    color: var(--color-text);
  }
  
  h2 {
    @apply text-2xl md:text-3xl font-bold leading-tight;
    color: var(--color-text);
  }
  
  h3 {
    @apply text-xl md:text-2xl font-semibold leading-tight;
    color: var(--color-text);
  }

  h4, h5, h6 {
    color: var(--color-text-secondary);
  }
  
  p {
    color: var(--color-text-secondary);
  }
  
  a {
    color: var(--color-primary);
    text-decoration: underline;
    text-underline-offset: 2px;
    transition: color 0.2s ease;
  }

  a:hover {
    color: var(--color-primary-hover);
  }

  a:focus {
    outline: none;
    box-shadow: 0 0 0 2px var(--color-primary-focus);
    border-radius: 4px;
  }
  
  button {
    transition: all 0.2s ease;
  }

  button:focus {
    outline: none;
    box-shadow: 0 0 0 2px var(--color-primary-focus);
    border-radius: 4px;
  }
}

@layer components {
  .btn-primary {
    background-color: var(--color-primary);
    color: var(--color-background);
    font-weight: 600;
    padding: 1rem 2rem;
    border-radius: 0.5rem;
    transition: all 0.2s ease;
    min-height: 44px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    border: none;
    cursor: pointer;
  }

  .btn-primary:hover {
    background-color: var(--color-primary-hover);
  }

  .btn-primary:focus {
    outline: none;
    box-shadow: 0 0 0 2px var(--color-primary-focus);
  }
  
  .btn-secondary {
    background-color: var(--color-surface);
    color: var(--color-primary);
    font-weight: 600;
    padding: 1rem 2rem;
    border-radius: 0.5rem;
    border: 1px solid var(--color-primary);
    transition: all 0.2s ease;
    min-height: 44px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
  }

  .btn-secondary:hover {
    background-color: var(--color-surface-secondary);
  }

  .btn-secondary:focus {
    outline: none;
    box-shadow: 0 0 0 2px var(--color-primary-focus);
  }

  .card {
    background-color: var(--color-surface);
    border: 1px solid var(--color-border);
    border-radius: 0.5rem;
    padding: 1.5rem;
    transition: all 0.2s ease;
  }

  .card:hover {
    border-color: var(--color-primary);
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
  }

  .section-padding {
    @apply py-16 md:py-24;
  }
  
  .container-custom {
    @apply max-w-6xl mx-auto px-4 sm:px-6 lg:px-8;
  }

  .theme-toggle {
    background-color: var(--color-surface);
    color: var(--color-text);
    border: 1px solid var(--color-border);
    border-radius: 0.5rem;
    padding: 0.5rem;
    cursor: pointer;
    transition: all 0.2s ease;
  }

  .theme-toggle:hover {
    background-color: var(--color-surface-secondary);
  }

  .theme-toggle:focus {
    outline: none;
    box-shadow: 0 0 0 2px var(--color-primary-focus);
  }

  /* グラデーション用のクラス */
  .gradient-hero {
    background: var(--gradient-hero);
  }
  
  .gradient-primary {
    background: var(--gradient-primary);
  }
  
  .gradient-secondary {
    background: var(--gradient-secondary);
  }
  
  .gradient-subtle {
    background: var(--gradient-subtle);
  }

  /* ヘッダーアニメーション用のクラス */
  .hero-animation-container {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    overflow: hidden;
    pointer-events: none;
    z-index: 1;
    background-color: transparent; /* コンテナも透明に */
  }

  .hero-animation-element {
    position: absolute;
    width: 200px;
    height: 200px;
    opacity: 0.6;
    background-size: contain;
    background-repeat: no-repeat;
    background-position: center;
    animation: slideHorizontal 80s linear infinite;
    animation-play-state: var(--animation-play-state, running);
    /* パフォーマンス最適化 */
    will-change: transform, opacity;
    transform: translateZ(0);
    backface-visibility: hidden;
    perspective: 1000px;
    /* テキストを中央に配置 */
    display: flex;
    align-items: center;
    justify-content: center;
  }

  /* レスポンシブ対応 */
  @media (min-width: 640px) {
    .hero-animation-element {
      width: 250px;
      height: 250px;
    }
    .hero-animation-element:nth-child(3) {
      width: 562px; /* 大きいサイズに戻す */
      height: 562px; /* 大きいサイズに戻す */
    }
  }

  @media (min-width: 1024px) {
    .hero-animation-element {
      width: 300px;
      height: 300px;
    }
    .hero-animation-element:nth-child(3) {
      width: 675px; /* 大きいサイズに戻す */
      height: 675px; /* 大きいサイズに戻す */
    }
  }

  /* 各画像パターンのスタイル */
  .hero-animation-element:nth-child(1) {
    background-image: url('/images/animations/animation_stress_anxiety.png');
    animation-delay: 0s;
    top: 10vh;
    left: 100vw; /* 初期位置を画面外右側に設定 */
  }

  .hero-animation-element:nth-child(2) {
    background-image: url('/images/animations/animation_depression_panic.png');
    animation-delay: 20s; /* 間隔を空ける */
    top: 20vh;
    left: 100vw; /* 初期位置を画面外右側に設定 */
  }

  .hero-animation-element:nth-child(3) {
    background-image: url('/images/animations/animation_kokoro_main.png');
    animation-delay: 40s; /* 間隔を空ける */
    opacity: 0.7; /* メイン要素は少し目立つように */
    top: 15vh;
    left: 100vw; /* 初期位置を画面外右側に設定 */
    width: 450px; /* 大きいサイズに戻す */
    height: 450px; /* 大きいサイズに戻す */
  }

  .hero-animation-element:nth-child(4) {
    background-image: url('/images/animations/animation_menopause_health.png');
    animation-delay: 60s; /* 間隔を空ける */
    top: 25vh;
    left: 100vw; /* 初期位置を画面外右側に設定 */
  }

  .hero-animation-element:nth-child(5) {
    background-image: url('/images/animations/animation_insomnia_sleep.png');
    animation-delay: 80s; /* 間隔を空ける */
    top: 10vh;
    left: 100vw; /* 初期位置を画面外右側に設定 */
  }

  /* 横スライドアニメーション - GPU最適化 */
  @keyframes slideHorizontal {
    0% {
      transform: translate3d(0, 0, 0); /* 初期位置から開始 */
    }
    25% {
      transform: translate3d(-25vw, 10vh, 0);
    }
    50% {
      transform: translate3d(-50vw, 5vh, 0);
    }
    75% {
      transform: translate3d(-75vw, 15vh, 0);
    }
    100% {
      transform: translate3d(-100vw, 0, 0); /* 画面外左側に移動 */
    }
  }

  /* アクセシビリティ対応 */
  @media (prefers-reduced-motion: reduce) {
    :root {
      --animation-enabled: 0;
    }
    
    .hero-animation-element {
      animation-play-state: paused;
      opacity: 0;
    }
  }

  /* アニメーション無効化 */
  .hero-animation-container[data-animation-disabled="true"] .hero-animation-element {
    animation-play-state: paused;
    opacity: 0;
  }

  /* テキストオーバーレイ用のスタイル */

  .hero-text-item {
    position: relative;
    opacity: 0.8; /* 初期透明度を上げて常に見えるように */
    transition: opacity 0.5s ease-in-out;
    text-align: center;
    padding: 0.5rem;
    border-radius: 0.5rem;
    background: transparent; /* 背景を完全に透過 */
    backdrop-filter: none; /* ブラーを削除 */
    animation: textFadeInOut 80s linear infinite;
    /* パフォーマンス最適化 */
    will-change: transform, opacity;
    transform: translateZ(0);
    backface-visibility: hidden;
    border: none; /* ボーダーを削除 */
    z-index: 10; /* 画像の上に表示 */
  }

  .hero-text-main {
    background: transparent; /* 背景を完全に透過 */
    backdrop-filter: none; /* ブラーを削除 */
    box-shadow: none; /* シャドウを削除 */
    border: none; /* ボーダーを削除 */
    transform: scale(1.05); /* メインは少し大きめに */
    animation: textFadeInOutMain 80s linear infinite;
    animation-play-state: var(--animation-play-state, running);
  }

  /* 各テキストアイテムのアニメーションタイミング */
  .hero-animation-element:nth-child(1) .hero-text-item {
    animation-delay: 0s;
  }

  .hero-animation-element:nth-child(2) .hero-text-item {
    animation-delay: 20s;
  }

  .hero-animation-element:nth-child(3) .hero-text-item {
    animation-delay: 40s;
  }

  .hero-animation-element:nth-child(4) .hero-text-item {
    animation-delay: 60s;
  }

  .hero-animation-element:nth-child(5) .hero-text-item {
    animation-delay: 80s;
  }


  /* テキストフェードイン・アウトアニメーション - GPU最適化 */
  @keyframes textFadeInOut {
    0%, 10%, 90%, 100% {
      opacity: 0.8;
      transform: translate3d(0, 0, 0) scale(1);
    }
    50% {
      opacity: 1;
      transform: translate3d(0, 0, 0) scale(1.05);
    }
  }

  /* メインテキストの特別なアニメーション - GPU最適化 */
  .hero-text-main {
    animation: textFadeInOutMain 80s linear infinite;
  }

  @keyframes textFadeInOutMain {
    0%, 10%, 90%, 100% {
      opacity: 0.9;
      transform: scale(1.05);
    }
    50% {
      opacity: 1;
      transform: scale(1.1);
    }
  }

  /* アクセシビリティ対応 - テキストオーバーレイ */
  @media (prefers-reduced-motion: reduce) {
    .hero-text-item {
      animation-play-state: paused;
      opacity: 0;
    }
  }
}